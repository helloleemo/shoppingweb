import{_ as f,e as h,r as d,c as _,d as l,b as e,w as c,f as u,v as p,F as b,o as v}from"./index-CybjTFcM.js";const w={components:{},provide(){return{emitter:h}},data(){return{user:{username:"",password:""},isLoading:!1}},methods:{signIn(){console.log("login!");const i="https://vue3-course-api.hexschool.io/admin/signin";this.isLoading=!0,this.$http.post(i,this.user).then(s=>{if(this.isLoading=!1,s.data.success){const a=s.data.token,r=s.data.expired;document.cookie=`defToken=${a}; expires=${new Date(r)}`,this.$router.push("/dashboard/products")}})}}},x={class:"container mt-5"},k=e("h1",{class:"h3 mb-3 font-weight-normal"},"管理員登入",-1),y={class:"mb-2"},L=e("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),P={class:"mb-2"},E=e("label",{for:"inputPassword",class:"sr-only"},"Password",-1),I={class:"text-end","mt-4":""};function M(i,s,a,r,t,n){const m=d("LoadingPage"),g=d("ToastMessages");return v(),_(b,null,[l(m,{active:t.isLoading},null,8,["active"]),l(g),e("div",x,[e("form",{onSubmit:s[3]||(s[3]=c((...o)=>n.signIn&&n.signIn(...o),["prevent"])),class:"row justify-content-center"},[k,e("div",y,[L,u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o),type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:""},null,512),[[p,t.user.username]])]),e("div",P,[E,u(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[p,t.user.password]])]),e("div",I,[e("button",{onClick:s[2]||(s[2]=c((...o)=>n.signIn&&n.signIn(...o),["prevent"])),class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")])],32)])],64)}const V=f(w,[["render",M]]);export{V as default};
